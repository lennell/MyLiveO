"use strict";(self.webpackChunkMyAngularTegel=self.webpackChunkMyAngularTegel||[]).push([[3300],{3300:(v,h,r)=>{r.r(h),r.d(h,{tds_dropdown:()=>c});var n=r(5861),i=r(1879),a=r(813);const c=class{constructor(o){(0,i.r)(this,o),this.tdsChange=(0,i.c)(this,"tdsChange",6),this.tdsFocus=(0,i.c)(this,"tdsFocus",6),this.tdsBlur=(0,i.c)(this,"tdsBlur",6),this.tdsInput=(0,i.c)(this,"tdsInput",6),this.connectedCallback=()=>{this.options||(this.children=Array.from(this.host.children))},this.componentWillRender=()=>{this.options||(this.children=Array.from(this.host.children))},this.setDefaultOption=()=>{this.children=this.children.map(e=>(this.multiselect?this.defaultValue.split(",").forEach(t=>{t===e.value?(e.setSelected(!0),this.selection=this.selection?[...this.selection,{value:e.value,label:e.textContent}]:[{value:e.value,label:e.textContent}]):e.setSelected(!1)}):this.defaultValue===e.value?(e.setSelected(!0),this.selection=[{value:e.value,label:e.textContent}]):e.setSelected(!1),e))},this.getOpenDirection=()=>{var e,t,s,l,d;if("auto"===this.openDirection||!this.openDirection){const u=null!==(t=null===(e=this.dropdownList)||void 0===e?void 0:e.offsetHeight)&&void 0!==t?t:0;return(null!==(d=null===(l=(s=this.host).getBoundingClientRect)||void 0===l?void 0:l.call(s).top)&&void 0!==d?d:0)+u+57>window.innerHeight?"up":"down"}return this.openDirection},this.getValue=()=>{var e,t;return this.filter?null===(e=this.selection)||void 0===e?void 0:e.map(s=>s.label).toString():null===(t=this.selection)||void 0===t?void 0:t.map(s=>s.label).join(", ")},this.handleFilter=e=>{this.tdsInput.emit(e);const t=e.target.value.toLowerCase();""===t?(this.children=this.children.map(s=>(s.removeAttribute("hidden"),s)),this.filterResult=null):this.filterResult=this.children.filter(s=>(s.textContent.toLowerCase().includes(t.toLowerCase())?s.removeAttribute("hidden"):s.setAttribute("hidden",""),!s.hasAttribute("hidden"))).length},this.handleFocus=e=>{this.tdsFocus.emit(e)},this.handleBlur=e=>{this.tdsBlur.emit(e)},this.handleChange=()=>{var e,t;this.tdsChange.emit({name:this.name,value:null!==(t=null===(e=this.selection)||void 0===e?void 0:e.map(s=>s.value).toString())&&void 0!==t?t:null})},this.name=void 0,this.disabled=!1,this.helper=void 0,this.label=void 0,this.labelPosition=void 0,this.modeVariant=null,this.openDirection="auto",this.placeholder=void 0,this.size="lg",this.error=!1,this.multiselect=!1,this.filter=!1,this.noResultText="No result",this.defaultValue=void 0,this.options=void 0,this.open=!1,this.selection=void 0,this.filterResult=void 0,this.filterFocus=void 0}reset(){var o=this;return(0,n.Z)(function*(){o.children=Array.from(o.host.children).filter(e=>"TDS-DROPDOWN-OPTION"===e.tagName).map(e=>(e.setSelected(!1),e)),o.selection=null,o.host.setAttribute("value",null),o.handleChange()})()}setValue(o,e){var t=this;return(0,n.Z)(function*(){return t.multiselect?t.selection=t.selection?[...t.selection,{value:o,label:e}]:[{value:o,label:e}]:(t.selection=[{value:o,label:e}],t.children=Array.from(t.host.children).filter(s=>"TDS-DROPDOWN-OPTION"===s.tagName).map(s=>(s.value!==o&&s.setSelected(!1),s))),t.handleChange(),t.host.setAttribute("value",t.selection.map(s=>s.value).toString()),t.selection})()}removeValue(o){var e=this;return(0,n.Z)(function*(){return e.multiselect?e.children=Array.from(e.host.children).filter(t=>"TDS-DROPDOWN-OPTION"===t.tagName).map(t=>(t.value===o&&(e.selection=e.selection.filter(s=>s.value!==t.value),t.setSelected(!1)),t)):e.reset(),e.handleChange(),e.selection})()}close(){var o=this;return(0,n.Z)(function*(){o.open=!1})()}onAnyClick(o){this.open&&!o.composedPath().includes(this.host)&&(this.open=!1)}onKeyDown(o){var e=this;return(0,n.Z)(function*(){const{activeElement:t}=document;if(t)if("ArrowDown"===o.key){const s=t.nextElementSibling?e.children.findIndex(d=>d===t.nextElementSibling):0,l=(0,a.f)(e.children,s);e.children[l].focus()}else if("ArrowUp"===o.key){const s=t.nextElementSibling?e.children.findIndex(d=>d===t.previousElementSibling):0,l=(0,a.c)(e.children,s);e.children[l].focus()}else"Escape"===o.key&&(e.open=!1)})()}handleOpenState(){var o,e;this.filter&&this.multiselect&&(this.open||(this.inputElement.value=null!==(e=null===(o=this.selection)||void 0===o?void 0:o.map(t=>t.label).toString())&&void 0!==e?e:null))}componentDidLoad(){this.defaultValue&&this.setDefaultOption()}render(){var o,e,t,s;if(this.options){let l=0;this.options.forEach(d=>{(0,a.a)(this.host,"tds-dropdown-option",[{key:"value",value:d.value},{key:"disabled",value:d.disabled.toString()}],d.label,"id"+l++)}),this.children=Array.from(this.host.children).filter(d=>"TDS-DROPDOWN-OPTION"===d.tagName)}return(0,a.b)(this.host,this.name,null===(o=this.selection)||void 0===o?void 0:o.map(l=>l.value).toString(),this.disabled),(0,i.h)(i.H,{role:"select",class:this.modeVariant?`tds-mode-variant-${this.modeVariant}`:""},this.label&&"outside"===this.labelPosition&&(0,i.h)("div",{class:"label-outside "+(this.disabled?"disabled":"")},this.label),(0,i.h)("div",{class:`dropdown-select ${this.size} ${this.disabled?"disabled":""}`},this.filter?(0,i.h)("div",{class:`filter ${this.filterFocus?"focus":""}\n            ${this.disabled?"disabled":""}`},(0,i.h)("div",{class:"value-wrapper"},this.label&&"inside"===this.labelPosition&&this.placeholder&&(0,i.h)("div",{class:`label-inside ${this.size}`},this.label),this.label&&"inside"===this.labelPosition&&!this.placeholder&&(0,i.h)("div",{class:`\n                    label-inside-as-placeholder\n                    ${this.size}\n                    ${null!==(e=this.selection)&&void 0!==e&&e.length?"selected":""}\n                    `},this.label),(0,i.h)("input",{ref:l=>this.inputElement=l,class:"inside"===this.labelPosition?"placeholder":"",type:"text",placeholder:this.placeholder,value:this.getValue(),disabled:this.disabled,onInput:l=>this.handleFilter(l),onBlur:l=>{this.filterFocus=!1,this.handleBlur(l)},onFocus:l=>{this.open=!0,this.filterFocus=!0,this.handleFocus(l)},onKeyDown:l=>{"Escape"===l.key&&(this.open=!1)}})),(0,i.h)("tds-icon",{onClick:()=>{this.open=!this.open},class:this.open?"open":"closed",name:"chevron_down",size:"16px"})):(0,i.h)("button",{onClick:()=>{this.open=!this.open},onKeyDown:l=>{"Escape"===l.key&&(this.open=!1)},class:`\n                ${this.selection?"value":"placeholder"}\n                ${this.open?"open":"closed"}\n                ${this.error?"error":""}\n                `,disabled:this.disabled},(0,i.h)("div",{class:`value-wrapper ${this.size}`},this.label&&"inside"===this.labelPosition&&this.placeholder&&(0,i.h)("div",{class:`label-inside ${this.size}`},this.label),this.label&&"inside"===this.labelPosition&&!this.placeholder&&(0,i.h)("div",{class:`\n                    label-inside-as-placeholder\n                    ${this.size}\n                    ${null!==(t=this.selection)&&void 0!==t&&t.length?"selected":""}\n                    `},this.label),(0,i.h)("div",{class:`placeholder ${this.size}`},null!==(s=this.selection)&&void 0!==s&&s.length?this.getValue():this.placeholder),(0,i.h)("tds-icon",{class:this.open?"open":"closed",name:"chevron_down",size:"16px"})))),(0,i.h)("div",{ref:l=>this.dropdownList=l,class:`dropdown-list\n            ${this.size}\n            ${this.open?"open":"closed"}\n            ${this.getOpenDirection()}\n            ${this.label&&"outside"===this.labelPosition?"label-outside":""}`},(0,i.h)("slot",null),0===this.filterResult&&(0,i.h)("div",{class:`no-result ${this.size}`},this.noResultText)),this.helper&&(0,i.h)("div",{class:`helper ${this.error?"error":""} ${this.disabled?"disabled":""}`},this.error&&(0,i.h)("tds-icon",{name:"error",size:"16px"}),this.helper))}get host(){return(0,i.g)(this)}static get watchers(){return{open:["handleOpenState"]}}};c.style=':host button{all:unset;height:100%;width:100%;background-color:var(--tds-dropdown-bg);border-bottom:1px solid var(--tds-dropdown-border-bottom);border-radius:4px 4px 0 0}:host button:hover{border-bottom:1px solid var(--tds-dropdown-border-bottom-hover)}:host button .value-wrapper{padding:0 16px;display:flex;align-items:center;justify-content:space-between}:host button.placeholder{color:var(--tds-dropdown-placeholder-color)}:host button.value{color:var(--tds-dropdown-value-color)}:host button:focus{border-bottom-color:transparent}:host button:focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:var(--tds-dropdown-border-bottom-open)}:host button.error{border-bottom:1px solid var(--tds-negative)}:host button:disabled{color:var(--tds-dropdown-disabled-color);border-bottom:1px solid transparent}:host .filter{display:flex;align-items:center;justify-content:space-between;height:100%;background-color:var(--tds-dropdown-bg);border-bottom:1px solid var(--tds-dropdown-border-bottom);padding-left:16px;border-radius:4px 4px 0 0}:host .filter:hover{border-bottom:1px solid var(--tds-dropdown-border-bottom-hover)}:host .filter.disabled{color:var(--tds-dropdown-disabled-color)}:host .filter .value-wrapper{display:flex;width:100%;height:100%}:host .filter .label-inside-as-placeholder{position:absolute;font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls);color:var(--tds-dropdown-placeholder-color)}:host .filter .label-inside-as-placeholder.lg{top:20px}:host .filter .label-inside-as-placeholder.md{top:16px}:host .filter .label-inside-as-placeholder.sm{display:none}:host .filter .label-inside-as-placeholder.selected{font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);transition:all 0.2s ease-in-out}:host .filter .label-inside-as-placeholder.selected.lg{top:12px}:host .filter .label-inside-as-placeholder.selected.md{top:8px}:host .filter .label-inside-as-placeholder.selected.sm{display:none}:host .filter .label-inside-as-placeholder.selected+.placeholder:not(.sm){margin-top:8px}:host .filter.focus{border-bottom-color:transparent}:host .filter.focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:var(--tds-dropdown-border-bottom-open)}:host .filter input{flex:1;all:unset;width:100%}:host .filter input::placeholder{color:var(--tds-dropdown-placeholder-color)}:host .filter input:disabled::placeholder{color:var(--tds-dropdown-disabled-color)}:host .filter tds-icon{margin-right:16px;z-index:101}:host{display:block;position:relative;z-index:100;font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls)}:host .label-outside{font:var(--tds-detail-05);letter-spacing:var(--tds-detail-05-ls);color:var(--tds-dropdown-label-color);margin-bottom:8px}:host .label-outside.disabled{color:var(--tds-dropdown-disabled-color)}:host .dropdown-select{position:relative}:host .dropdown-select.disabled .label-inside,:host .dropdown-select.disabled .placeholder,:host .dropdown-select.disabled .label-inside-as-placeholder,:host .dropdown-select.disabled .value-wrapper{color:var(--tds-dropdown-disabled-color)}:host .dropdown-select .label-inside{position:absolute;font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);color:var(--tds-dropdown-label-inside-color)}:host .dropdown-select .label-inside.lg{top:12px;left:16px}:host .dropdown-select .label-inside.md{top:8px;left:16px}:host .dropdown-select .label-inside.sm{display:none}:host .dropdown-select .label-inside+.placeholder:not(.sm){margin-top:8px}:host .dropdown-select .placeholder{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .dropdown-select .label-inside-as-placeholder{color:var(--tds-dropdown-placeholder-color)}:host .dropdown-select .label-inside-as-placeholder.selected{position:absolute;font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);transition:all 0.2s ease-in-out}:host .dropdown-select .label-inside-as-placeholder.selected.lg{top:12px}:host .dropdown-select .label-inside-as-placeholder.selected.md{top:8px}:host .dropdown-select .label-inside-as-placeholder.selected.sm{display:none}:host .dropdown-select .label-inside-as-placeholder.selected+.placeholder:not(.sm){margin-top:8px}:host .dropdown-select.lg{height:55px}:host .dropdown-select.md{height:47px}:host .dropdown-select.sm{height:39px}:host .helper{margin-top:4px;color:var(--tds-dropdown-helper-color);font:var(--tds-detail-05);letter-spacing:var(--tds-detail-05-ls);display:flex;align-items:center;gap:8px}:host .helper.error{color:var(--tds-negative)}:host .helper.disabled{color:var(--tds-dropdown-disabled-color)}:host .dropdown-list{position:absolute;margin-top:1px;width:100%;transform-origin:top;transition:transform 0.2s ease-in-out;box-shadow:rgba(0, 0, 0, 0.1) 0 2px 3px 0;border-radius:0 0 4px 4px;overflow-y:auto}:host .dropdown-list::-webkit-scrollbar{width:4px;background-color:inherit}:host .dropdown-list::-webkit-scrollbar-thumb{background-color:var(--tds-grey-300)}:host .dropdown-list ::-webkit-scrollbar-button{height:0;width:0}:host .dropdown-list.lg{max-height:312px}:host .dropdown-list.md{max-height:312px}:host .dropdown-list.sm{max-height:260px}:host .dropdown-list.up{bottom:100%;margin-top:0;margin-bottom:1px;transform-origin:bottom;display:flex;flex-direction:column-reverse;box-shadow:rgba(0, 0, 0, 0.1) 0 -1px 3px 0;border-radius:4px 4px 0 0}:host .dropdown-list.up.label-outside{bottom:calc(100% - 24px)}:host .dropdown-list.closed{transform:scaleY(0);visibility:hidden}:host .dropdown-list.open{transform:scaleY(1)}:host .dropdown-list .no-result{display:flex;align-items:center;padding:0 16px;background-color:var(--tds-dropdown-bg)}:host .dropdown-list .no-result.lg{height:56px}:host .dropdown-list .no-result.md{height:48px}:host .dropdown-list .no-result.sm{height:40px}:host tds-icon{transition:transform 0.2s ease-in-out}:host tds-icon.open{transform:rotateZ(180deg)}'}}]);