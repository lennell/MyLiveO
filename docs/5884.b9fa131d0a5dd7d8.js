"use strict";(self.webpackChunkMyAngularTegel=self.webpackChunkMyAngularTegel||[]).push([[5884],{5884:(m,c,h)=>{h.r(c),h.d(c,{tds_dropdown:()=>p});var n=h(5861),r=h(6857);const p=class{constructor(l){(0,r.r)(this,l),this.tdsChange=(0,r.c)(this,"tdsChange",6),this.tdsFocus=(0,r.c)(this,"tdsFocus",6),this.tdsBlur=(0,r.c)(this,"tdsBlur",6),this.tdsInput=(0,r.c)(this,"tdsInput",6),this.setDefaultOption=()=>{if(0!==this.host.children.length){if(this.defaultValue){const e=Array.from(this.host.children).filter(o=>"TDS-DROPDOWN-OPTION"===o.tagName);let t=!1;e.forEach(o=>(this.multiselect?this.defaultValue.split(",").forEach(s=>{s===o.value&&(o.setSelected(!0),this.value=this.value?[...this.value,o.value]:[o.value],t=!0)}):this.defaultValue===o.value?(o.setSelected(!0),this.value=[o.value],t=!0):o.setSelected(!1),this.setValueAttribute(),o)),t||console.warn(`TDS DROPDOWN: No matching option found for defaultValue "${this.defaultValue}"`)}}else console.warn("TDS DROPDOWN: Data missing. Disregard if loading data asynchronously.")},this.getChildren=()=>{const e=Array.from(this.host.children).filter(t=>"TDS-DROPDOWN-OPTION"===t.tagName);if(0!==e.length)return e;console.warn("TDS DROPDOWN: Data missing. Disregard if loading data asynchronously.")},this.getOpenDirection=()=>{var e,t,o,s,i;if("auto"===this.openDirection||!this.openDirection){const d=null!==(t=null===(e=this.dropdownList)||void 0===e?void 0:e.offsetHeight)&&void 0!==t?t:0;return(null!==(i=null===(s=(o=this.host).getBoundingClientRect)||void 0===s?void 0:s.call(o).top)&&void 0!==i?i:0)+d+57>window.innerHeight?"up":"down"}return this.openDirection},this.handleToggleOpen=()=>{this.disabled||(this.open=!this.open,this.open&&this.focusInputElement())},this.focusInputElement=()=>{this.inputElement&&this.inputElement.focus()},this.getSelectedChildren=()=>{var e;return null===(e=this.value)||void 0===e?void 0:e.map(t=>this.getChildren().find(s=>s.value===t)).filter(Boolean)},this.getSelectedChildrenLabels=()=>{var e;return null===(e=this.getSelectedChildren())||void 0===e?void 0:e.map(t=>t.textContent.trim())},this.getValue=()=>{const e=this.getSelectedChildrenLabels();return e?this.filter?e?.join(", "):e?.toString():""},this.setValueAttribute=()=>{var e,t,o;""===(null===(e=this.value)||void 0===e?void 0:e.toString())&&(this.value=null),this.host.setAttribute("value",null!==(o=null===(t=this.value)||void 0===t?void 0:t.map(s=>s).toString())&&void 0!==o?o:null)},this.handleFilter=e=>{this.tdsInput.emit(e);const t=e.target.value.toLowerCase(),o=this.getChildren();""===t?(o.forEach(s=>(s.removeAttribute("hidden"),s)),this.filterResult=null):this.filterResult=o.filter(s=>(this.normalizeString(s.textContent).toLowerCase().includes(this.normalizeString(t).toLowerCase())?s.removeAttribute("hidden"):s.setAttribute("hidden",""),!s.hasAttribute("hidden"))).length},this.handleFilterReset=()=>{this.reset(),this.inputElement.value="",this.handleFilter({target:{value:this.inputElement.value}}),this.inputElement.focus()},this.handleFocus=e=>{this.tdsFocus.emit(e)},this.handleBlur=e=>{this.tdsBlur.emit(e)},this.handleChange=()=>{var e,t;this.tdsChange.emit({name:this.name,value:null!==(t=null===(e=this.value)||void 0===e?void 0:e.map(o=>o).toString())&&void 0!==t?t:null})},this.name=void 0,this.disabled=!1,this.helper=void 0,this.label=void 0,this.labelPosition=void 0,this.modeVariant=null,this.openDirection="auto",this.placeholder=void 0,this.size="lg",this.error=!1,this.multiselect=!1,this.filter=!1,this.normalizeText=!0,this.noResultText="No result",this.defaultValue=void 0,this.open=!1,this.value=void 0,this.filterResult=void 0,this.filterFocus=void 0}reset(){var l=this;return(0,n.Z)(function*(){l.internalReset(),l.handleChange()})()}setValue(l,e){var t=this;return(0,n.Z)(function*(){let o;o="string"==typeof l?[l]:l,!t.multiselect&&o.length>1&&(console.warn("Tried to select multiple items, but multiselect is not enabled."),o=[o[0]]),t.internalReset();for(let i=0;i<o.length;i++)t.getChildren().some(a=>a.value===o[i])||o.splice(i,1);t.value=o,t.setValueAttribute(),t.selectChildrenAsSelectedBasedOnSelectionProp(),t.handleChange();const s=t.getSelectedChildren().map(i=>({value:i.value,label:i.textContent.trim()}));return t.filter&&(t.inputElement.value=t.getValue()),s})()}appendValue(l){var e=this;return(0,n.Z)(function*(){e.setValue(e.multiselect&&e.value?[...e.value,l]:l)})()}removeValue(l){var e=this;return(0,n.Z)(function*(){var t,o;let s;return e.multiselect?null===(t=e.getChildren())||void 0===t||t.forEach(i=>{var d;return i.value===l&&(e.value=null===(d=e.value)||void 0===d?void 0:d.filter(a=>a!==i.value),s=i.textContent.trim(),i.setSelected(!1)),i}):e.reset(),e.handleChange(),e.setValueAttribute(),null===(o=e.value)||void 0===o?void 0:o.map(i=>({value:i,label:s}))})()}close(){var l=this;return(0,n.Z)(function*(){l.open=!1})()}onAnyClick(l){this.open&&!l.composedPath().includes(this.host)&&(this.open=!1)}onKeyDown(l){var e=this;return(0,n.Z)(function*(){const{activeElement:t}=document;if(!t)return;const o=e.getChildren();if("ArrowDown"===l.key){const s=t.nextElementSibling?o.findIndex(d=>d===t.nextElementSibling):0,i=((l,e)=>{if(void 0===l[e])return 0;for(let t=e;t<l.length;t++)if(!l[t].disabled)return t})(o,s);o[i].focus()}else if("ArrowUp"===l.key){const i=((l,e)=>{if(void 0===l[e])return l.length-1;for(let t=e;t>=0;t--)if(!l[t].disabled)return t})(o,t.nextElementSibling?e.getChildren().findIndex(d=>d===t.previousElementSibling):0);o[i].focus()}else"Escape"===l.key&&(e.open=!1)})()}handleOpenState(){this.filter&&this.multiselect&&(this.open||(this.inputElement.value=this.getValue()))}componentWillLoad(){this.setDefaultOption()}handleSlotChange(){this.setDefaultOption()}normalizeString(l){return this.normalizeText?l.normalize("NFD").replace(/\p{Diacritic}/gu,""):l}internalReset(){this.getChildren().forEach(l=>(l.setSelected(!1),l)),this.value=null,this.setValueAttribute()}selectChildrenAsSelectedBasedOnSelectionProp(){this.getChildren().forEach(l=>{this.value.forEach(e=>{l.value!==e?this.multiselect||l.setSelected(!1):l.setSelected(!0)})})}render(){var l,e,t,o;return((l,e,t,o,s)=>{let i=l.querySelector("input");l.querySelector("input")||(i=l.ownerDocument.createElement("input"),i.type="hidden",l.appendChild(i)),i.disabled=o,i.name=e,i.value=t||""})(this.host,this.name,null===(l=this.value)||void 0===l?void 0:l.map(s=>s).toString(),this.disabled),(0,r.h)(r.H,{key:"9fee6da0243cf7b74abce8387454b32caacba96e",role:"select",class:this.modeVariant?`tds-mode-variant-${this.modeVariant}`:""},this.label&&"outside"===this.labelPosition&&(0,r.h)("div",{key:"d338fdc28fdf1a6b24f7254e52f0d8581cc46293",class:"label-outside "+(this.disabled?"disabled":"")},this.label),(0,r.h)("div",{key:"a6852251cdf06567f2cb2a7516adb71d9ae3295d",class:`dropdown-select ${this.size} ${this.disabled?"disabled":""}`},this.filter?(0,r.h)("div",{class:{filter:!0,focus:this.filterFocus,disabled:this.disabled,error:this.error}},(0,r.h)("div",{class:"value-wrapper"},this.label&&"inside"===this.labelPosition&&this.placeholder&&(0,r.h)("div",{class:`label-inside ${this.size}`},this.label),this.label&&"inside"===this.labelPosition&&!this.placeholder&&(0,r.h)("div",{class:`\n                    label-inside-as-placeholder\n                    ${this.size}\n                    ${null!==(e=this.value)&&void 0!==e&&e.length?"selected":""}\n                    `},this.label),(0,r.h)("input",{ref:s=>this.inputElement=s,class:"inside"===this.labelPosition?"placeholder":"",type:"text",placeholder:this.placeholder,value:this.getValue(),disabled:this.disabled,onInput:s=>this.handleFilter(s),onBlur:s=>{this.filterFocus=!1,this.handleBlur(s)},onFocus:s=>{this.open=!0,this.filterFocus=!0,this.handleFocus(s)},onKeyDown:s=>{"Escape"===s.key&&(this.open=!1)}})),(0,r.h)("tds-icon",{tabIndex:0,role:"button","aria-label":"Clear filter",svgTitle:"Clear filter",onClick:this.handleFilterReset,onKeyDown:s=>{"Enter"===s.key&&this.handleFilterReset()},class:"clear-icon "+(this.open&&""!==this.inputElement.value?"":"hide"),name:"cross",size:"16px"}),(0,r.h)("tds-icon",{tabIndex:0,role:"button","aria-label":"Open/Close dropdown",svgTitle:"Open/Close dropdown",onClick:this.handleToggleOpen,onKeyDown:s=>{"Enter"===s.key&&this.handleToggleOpen()},class:"menu-icon "+(this.open?"open":"closed"),name:"chevron_down",size:"16px"})):(0,r.h)("button",{onClick:()=>this.handleToggleOpen(),onKeyDown:s=>{"Escape"===s.key&&(this.open=!1)},class:`\n                ${this.value?"value":"placeholder"}\n                ${this.open?"open":"closed"}\n                ${this.error?"error":""}\n                `,disabled:this.disabled},(0,r.h)("div",{class:`value-wrapper ${this.size}`},this.label&&"inside"===this.labelPosition&&this.placeholder&&(0,r.h)("div",{class:`label-inside ${this.size}`},this.label),this.label&&"inside"===this.labelPosition&&!this.placeholder&&(0,r.h)("div",{class:`\n                    label-inside-as-placeholder\n                    ${this.size}\n                    ${null!==(t=this.value)&&void 0!==t&&t.length?"selected":""}\n                    `},this.label),(0,r.h)("div",{class:`placeholder ${this.size}`},null!==(o=this.value)&&void 0!==o&&o.length?this.getValue():this.placeholder),(0,r.h)("tds-icon",{"aria-label":"Open/Close dropdown",svgTitle:"Open/Close dropdown",class:"menu-icon "+(this.open?"open":"closed"),name:"chevron_down",size:"16px"})))),(0,r.h)("div",{key:"4db23bfa5b43445f3f995e6624eb4cc41e3dbca1",ref:s=>this.dropdownList=s,class:`dropdown-list\n            ${this.size}\n            ${this.open?"open":"closed"}\n            ${this.getOpenDirection()}\n            ${this.label&&"outside"===this.labelPosition?"label-outside":""}`},(0,r.h)("slot",{key:"23a98af0ba0ec7457dd83f0542fad645ae63765a",onSlotchange:()=>this.handleSlotChange()}),0===this.filterResult&&""!==this.noResultText&&(0,r.h)("div",{key:"43425685729146305b871cabef0f769748865d9a",class:`no-result ${this.size}`},this.noResultText)),this.helper&&(0,r.h)("div",{key:"a1988ef07e8bf4be2f15ed274e3a9e431127e0ce",class:`helper ${this.error?"error":""} ${this.disabled?"disabled":""}`},this.error&&(0,r.h)("tds-icon",{key:"2d2ccb11a76efbc7d67f663ca7a92a4f62563bf5",name:"error",size:"16px"}),this.helper))}get host(){return(0,r.g)(this)}static get watchers(){return{open:["handleOpenState"]}}};p.style='@charset "UTF-8";:host button{all:unset;height:100%;width:100%;background-color:var(--tds-dropdown-bg);border-bottom:1px solid var(--tds-dropdown-border-bottom);border-radius:4px 4px 0 0}:host button:hover{border-bottom:1px solid var(--tds-dropdown-border-bottom-hover)}:host button .value-wrapper{padding:0 16px;display:flex;align-items:center;justify-content:space-between}:host button.placeholder{color:var(--tds-dropdown-placeholder-color);line-height:1.3}:host button.value{color:var(--tds-dropdown-value-color);font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls);line-height:1.3}:host button:focus{border-bottom-color:var(--tds-dropdown-border-bottom-open)}:host button:focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background:var(--tds-dropdown-border-bottom-open)}:host button.error{border-bottom:1px solid var(--tds-negative)}:host button.error:focus{border-bottom-color:transparent}:host button.error:focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:var(--tds-negative)}:host button:disabled{color:var(--tds-dropdown-disabled-color);border-bottom:1px solid transparent}:host button .menu-icon{margin-right:0}:host .filter{display:flex;align-items:center;justify-content:space-between;height:100%;background-color:var(--tds-dropdown-bg);border-bottom:1px solid var(--tds-dropdown-border-bottom);padding-left:16px;border-radius:4px 4px 0 0}:host .filter:hover{border-bottom:1px solid var(--tds-dropdown-border-bottom-hover)}:host .filter.disabled{color:var(--tds-dropdown-disabled-color);border-bottom:1px solid transparent}:host .filter .value-wrapper{display:flex;width:100%;height:100%}:host .filter .label-inside-as-placeholder{position:absolute;font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls);line-height:1.3;color:var(--tds-dropdown-placeholder-color)}:host .filter .label-inside-as-placeholder.lg{top:20px}:host .filter .label-inside-as-placeholder.md{top:16px}:host .filter .label-inside-as-placeholder.sm{display:none}:host .filter .label-inside-as-placeholder.selected{font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);transition:all 0.2s ease-in-out}:host .filter .label-inside-as-placeholder.selected.lg{top:12px}:host .filter .label-inside-as-placeholder.selected.md{top:8px}:host .filter .label-inside-as-placeholder.selected.sm{display:none}:host .filter .label-inside-as-placeholder.selected+.placeholder:not(.sm){margin-top:8px}:host .filter.focus{border-bottom-color:transparent}:host .filter.focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:var(--tds-dropdown-border-bottom-open)}:host .filter.error{border-bottom:1px solid var(--tds-negative)}:host .filter.error.focus{border-bottom-color:transparent}:host .filter.error.focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:var(--tds-negative)}:host .filter input{flex:1;all:unset;width:100%}:host .filter input::placeholder{color:var(--tds-dropdown-placeholder-color)}:host .filter input:disabled::placeholder{color:var(--tds-dropdown-disabled-color)}:host .filter tds-icon{cursor:pointer}:host .filter .menu-icon{margin-right:16px}:host .filter .clear-icon{margin:0 8px;color:var(--tds-dropdown-clear-icon-color);padding-right:8px;border-right:1px solid var(--tds-dropdown-clear-icon-color)}:host .filter .clear-icon:hover{color:var(--tds-dropdown-clear-icon-hover-color)}:host .filter .clear-icon.hide{display:none;visibility:hidden}:host{--tds-scrollbar-width-standard:thin;--tds-scrollbar-width:10px;--tds-scrollbar-thumb-border-width:3px;--tds-scrollbar-thumb-border-hover-width:2px}body{scrollbar-width:thin}:host{display:block;position:relative;font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls)}:host .label-outside{font:var(--tds-detail-05);letter-spacing:var(--tds-detail-05-ls);color:var(--tds-dropdown-label-color);margin-bottom:8px}:host .label-outside.disabled{color:var(--tds-dropdown-disabled-color)}:host .dropdown-select{position:relative}:host .dropdown-select.disabled .label-inside,:host .dropdown-select.disabled .placeholder,:host .dropdown-select.disabled .label-inside-as-placeholder,:host .dropdown-select.disabled .value-wrapper{color:var(--tds-dropdown-disabled-color)}:host .dropdown-select .label-inside{position:absolute;font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);color:var(--tds-dropdown-label-inside-color)}:host .dropdown-select .label-inside.lg{top:12px;left:16px}:host .dropdown-select .label-inside.md{top:8px;left:16px}:host .dropdown-select .label-inside.sm{display:none}:host .dropdown-select .label-inside+.placeholder:not(.sm){margin-top:8px}:host .dropdown-select .placeholder{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .dropdown-select .label-inside-as-placeholder{color:var(--tds-dropdown-placeholder-color)}:host .dropdown-select .label-inside-as-placeholder.selected{position:absolute;font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);transition:all 0.2s ease-in-out}:host .dropdown-select .label-inside-as-placeholder.selected.lg{top:12px}:host .dropdown-select .label-inside-as-placeholder.selected.md{top:8px}:host .dropdown-select .label-inside-as-placeholder.selected.sm{display:none}:host .dropdown-select .label-inside-as-placeholder.selected+.placeholder:not(.sm){margin-top:8px}:host .dropdown-select.lg{height:55px}:host .dropdown-select.md{height:47px}:host .dropdown-select.sm{height:39px}:host .helper{margin-top:4px;color:var(--tds-dropdown-helper-color);font:var(--tds-detail-05);letter-spacing:var(--tds-detail-05-ls);display:flex;align-items:center;gap:8px}:host .helper.error{color:var(--tds-negative)}:host .helper.disabled{color:var(--tds-dropdown-disabled-color)}:host .dropdown-list{z-index:100;position:absolute;margin-top:1px;width:100%;transform-origin:top;transition:transform 0.2s ease-in-out;box-shadow:rgba(0, 0, 0, 0.1) 0 2px 3px 0;border-radius:0 0 4px 4px;overflow-y:auto}:host .dropdown-list:hover::-webkit-scrollbar-thumb{border:var(--tds-scrollbar-thumb-border-hover-width) solid transparent;background:var(--tds-scrollbar-hover-thumb-color);background-clip:padding-box}:host .dropdown-list::-webkit-scrollbar{width:var(--tds-scrollbar-width)}:host .dropdown-list::-webkit-scrollbar-track{background:transparent}:host .dropdown-list::-webkit-scrollbar-thumb{border-radius:40px;background:var(--tds-scrollbar-thumb-color);border:var(--tds-scrollbar-thumb-border-width) solid transparent;background-clip:padding-box}:host .dropdown-list::-webkit-scrollbar-button{height:0;width:0}@supports not selector(::-webkit-scrollbar){:host .dropdown-list{scrollbar-color:var(--tds-scrollbar-thumb-color) var(--tds-scrollbar-track-color);scrollbar-width:var(--tds-scrollbar-width-standard)}}:host .dropdown-list.lg{max-height:312px}:host .dropdown-list.md{max-height:312px}:host .dropdown-list.sm{max-height:260px}:host .dropdown-list.up{bottom:100%;margin-top:0;margin-bottom:1px;transform-origin:bottom;display:flex;flex-direction:column-reverse;box-shadow:rgba(0, 0, 0, 0.1) 0 -1px 3px 0;border-radius:4px 4px 0 0}:host .dropdown-list.up.label-outside{bottom:calc(100% - 24px)}:host .dropdown-list.closed{transform:scaleY(0);visibility:hidden}:host .dropdown-list.open{transform:scaleY(1)}:host .dropdown-list .no-result{font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls);display:flex;align-items:center;padding:0 16px;background-color:var(--tds-dropdown-bg)}:host .dropdown-list .no-result.lg{height:56px}:host .dropdown-list .no-result.md{height:48px}:host .dropdown-list .no-result.sm{height:40px}:host .menu-icon{color:var(--tds-dropdown-menu-icon-color)}:host tds-icon{transition:transform 0.2s ease-in-out}:host tds-icon.open{transform:rotateZ(180deg)}'}}]);